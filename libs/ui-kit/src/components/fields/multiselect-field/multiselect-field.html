<app-form-field-shell
  [label]="label()"
  [required]="required()"
  [errorMessage]="computedErrorMessage()"
  [hint]="hint()">
  <div class="multiselect-wrapper" #wrapper>
    <app-multiselect-trigger
      [selectedOptions]="selectedOptions()"
      [placeholder]="placeholder() || 'Select options...'"
      [disabled]="formControl()?.disabled ?? false"
      [isOpen]="isOpen()"
      (clicked)="onTriggerClick()"
      (chipRemoved)="onChipRemove($event)" />

    @if (isOpen()) {
      <app-multiselect-dropdown
        [options]="options()"
        [selectedValues]="selectedValues()"
        [disabled]="formControl()?.disabled ?? false"
        (optionToggled)="onOptionToggle($event)" />
    }
  </div>
</app-form-field-shell>
