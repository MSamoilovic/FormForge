<div class="form-builder">
  <app-form-builder-sidebar [fields]="fields" />

  <app-form-builder-canvas
    [canvasFields]="canvasFields"
    [selectedField]="selectedField"
    [componentMap]="componentMap"
    (fieldDropped)="onDrop($event)"
    (fieldSelected)="selectField($event)"
  ></app-form-builder-canvas>

  <aside class="properties" *ngIf="selectedField as field">
    <h3>Properties</h3>

    <label>
      Label:
      <input [(ngModel)]="field.label" />
    </label>

    @if (field.type === 'text' || field.type === 'number') {
      <label>
        Placeholder:
        <input [(ngModel)]="field.placeholder" />
      </label>
    }

    <label>
      Required:
      <input type="checkbox" [(ngModel)]="field.required" />
    </label>

    <div *ngIf="field.type === 'select' || field.type === 'radio'">
      <h4>Options</h4>
      @for (option of field.options; let i = $index; track i) {
        <div class="option-item">
          <input [(ngModel)]="field.options[i]" />
          <button type="button" (click)="removeOption(i)">âœ•</button>
        </div>
      }
      <button type="button" (click)="addOption()">Add Option</button>
    </div>
  </aside>
</div>
